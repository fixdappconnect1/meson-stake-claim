import {d as le, e as ie, i as ce, r as c, f as de, g as ue, h as _e, o as W, c as V, a as e, j as A, w as m, b as l, k as X, t as D, l as g, m as p, n as me, p as q, v as Y} from "./index-c1a36bee.js";
import {_ as U, a as fe, l as he, c as d, s as w, w as k, t as x, b as pe, m as L, B as I} from "./stake_lang-dd4f1c1a.js";
import "./index-a86190e8.js";
const we = 1
  , ve = "eth"
  , ge = "0xaA247c0D81B83812e1ABf8bAB078E4540D87e3fB"
  , be = "0xa16FFd531fc9aFeaDCa5CDCcdBcb410B9c8c9eF5"
  , ke = "0x1eb4A2620B909a8838E0E24A8E912bd32f4a47A3"
  , xe = "0xA62Fc0BA9Deeee9336511741c2Dfc4F5b00E128B"
  , s = {
    chain_id: we,
    chain_name: ve,
    msn_contract_address: ge,
    mining_claim_contract_address: be,
    simple_claim_contract_address: ke,
    stake_contract_address: xe
}
  , ye = {
    class: "flex flex-col min-h-screen overflow-hidden"
}
  , Ce = {
    class: "absolute w-full z-30"
}
  , Be = {
    class: "max-w-6xl mx-auto"
}
  , Te = {
    class: "flex items-center justify-between h-16 md:h-20 md:px-10"
}
  , Se = {
    class: "shrink-0 mr-4",
    style: {
        "max-width": "100%",
        margin: "0px 20px"
    }
}
  , Ae = e("img", {
    src: pe,
    style: {
        "max-width": "100%"
    }
}, null, -1)
  , De = {
    class: "grow"
}
  , Ie = {
    class: "relative"
}
  , Ee = e("div", {
    class: "harvestbg lg:block absolute top-0 -z-10",
    "aria-hidden": "true"
}, [e("img", {
    src: fe,
    class: "max-w-none",
    alt: "Pricing Illustration",
    style: {
        width: "100%"
    }
})], -1)
  , Ne = {
    class: "max-w-6xl mx-auto"
}
  , Me = {
    class: "py-20 md:py-25 border-t border-gray-800 md:px-10",
    style: {
        "background-color": "rgb(0 0 0 / 65%)",
        "border-bottom-left-radius": "20px",
        "border-bottom-right-radius": "20px"
    }
}
  , Fe = me('<div class="mx-auto pb-12 md:pb-15" style="margin:20px 20px;"><h2 class="h2 font-uncut-sans" style="color:white;"><a class="xlander_text" href="https://xlander.io">XLander.IO</a> Next Layer1</h2><p class="text-white text-left mt-2" style="font-size:15px;font-weight:bold;border-radius:5px;">Staking Meson.Network&#39;s MainNet token (MSN) will grant credits, which will be mapped into <span style="">100%</span> of the XLander&#39;s <span style="">SEED</span> round.</p></div>', 1)
  , We = {
    class: "mx-auto grid gap-8 lg:grid-cols-2 lg:gap-6 items-start lg:max-w-none pt-4",
    style: {
        margin: "0px 20px"
    }
}
  , Ve = {
    class: "relative flex flex-col h-full p-6",
    style: {
        "border-radius": "10px",
        "box-shadow": "black 3px 3px 3px",
        "background-color": "black"
    }
}
  , Ue = {
    class: "mb-6"
}
  , Le = e("div", {
    class: "text-lg font-semibold mb-1",
    style: {
        "border-bottom": "1px solid   rgb(49 49 49)",
        "padding-bottom": "5px"
    }
}, "STAKE", -1)
  , Oe = e("div", {
    class: "text-gray-400 mb-6"
}, null, -1)
  , Ke = {
    key: 1,
    class: "wallet_btn btn-sm text-black bg-gradient-to-t from-yellow-600 to-yellow-500 hover:to-yellow-400 w-full shadow-lg group"
}
  , Re = e("div", {
    class: "text-lg font-semibold mt-6 mb-2"
}, "STAKED TOKEN", -1)
  , je = {
    class: "flex justify-between"
}
  , Pe = {
    class: "font-uncut-sans inline-flex items-baseline mb-4"
}
  , ze = e("span", {
    class: "text-3xl font-medium text-gray-400"
}, null, -1)
  , He = {
    class: "text-4xl font-bold leading-7"
}
  , $e = e("svg", {
    id: "rotateIcon",
    class: "icon w-6 h-6 text-white cursor-pointer transition duration-300 transform hover:rotate-180",
    viewBox: "0 0 1024 1024"
}, [e("path", {
    d: "M760.762906 345.436286a335.431549 335.431549 0 1 0 84.888678 228.350545l119.511133-32.015159A454.275699 454.275699 0 1 1 648.709851 136.00379L605.174086 60.63477l105.019422-60.63477L889.733062 310.935102z",
    fill: "#ffffff"
})], -1)
  , Xe = [$e]
  , qe = e("div", {
    class: "text-gray-400 mb-6"
}, null, -1)
  , Ye = e("span", {
    class: "tracking-normal text-blue-200 group-hover:translate-x-0.5 transition-transform duration-150 ease-in-out ml-1"
}, null, -1)
  , Ge = e("div", {
    class: "text-gray-400 mb-3"
}, null, -1)
  , Je = e("span", {
    class: "tracking-normal text-blue-200 group-hover:translate-x-0.5 transition-transform duration-150 ease-in-out ml-1"
}, null, -1)
  , Qe = {
    class: "relative flex flex-col h-full p-6 connectButton",
    style: {
        "border-radius": "10px",
        "box-shadow": "black 3px 3px 3px",
        "background-color": "black"
    }
}
  , Ze = e("div", {
    class: "absolute top-0 right-0 mr-6 -mt-4"
}, null, -1)
  , et = {
    class: "mb-6"
}
  , tt = e("div", {
    class: "text-lg font-semibold mb-1",
    style: {
        "border-bottom": "1px solid  rgb(49 49 49)",
        "padding-bottom": "5px"
    }
}, "HARVEST", -1)
  , st = e("div", {
    class: "text-gray-400 mb-4"
}, null, -1)
  , at = e("div", {
    class: "text-lg font-semibold mb-2"
}, "UNHARVESTED CREDIT", -1)
  , rt = {
    class: "font-uncut-sans inline-flex items-baseline mb-2"
}
  , nt = e("span", {
    class: "text-3xl font-medium text-gray-400"
}, null, -1)
  , ot = {
    class: "text-4xl font-bold leading-7"
}
  , lt = e("div", {
    class: "text-gray-400 mb-6"
}, null, -1)
  , it = e("div", {
    class: "text-lg font-semibold mb-2"
}, "HARVESTED CREDIT", -1)
  , ct = {
    class: "flex justify-between"
}
  , dt = {
    class: "font-uncut-sans inline-flex items-baseline mb-4"
}
  , ut = e("span", {
    class: "text-3xl font-medium text-gray-400"
}, null, -1)
  , _t = {
    class: "text-4xl font-bold leading-7"
}
  , mt = e("svg", {
    id: "rotateIcon",
    class: "icon w-6 h-6 text-white cursor-pointer transition duration-300 transform hover:rotate-180",
    viewBox: "0 0 1024 1024"
}, [e("path", {
    d: "M760.762906 345.436286a335.431549 335.431549 0 1 0 84.888678 228.350545l119.511133-32.015159A454.275699 454.275699 0 1 1 648.709851 136.00379L605.174086 60.63477l105.019422-60.63477L889.733062 310.935102z",
    fill: "#ffffff"
})], -1)
  , ft = [mt]
  , ht = e("span", {
    class: "tracking-normal text-blue-200 group-hover:translate-x-0.5 transition-transform duration-150 ease-in-out ml-1"
}, null, -1)
  , pt = {
    class: "my-2"
}
  , wt = e("p", null, "Msn balance in wallet", -1)
  , vt = ["value"]
  , gt = e("p", {
    class: "mt-3"
}, "Amount to stake", -1)
  , bt = {
    class: "flex justify-end w-full"
}
  , kt = {
    class: "my-2"
}
  , xt = e("p", null, "Staked token in contract", -1)
  , yt = ["value"]
  , Ct = e("p", {
    class: "mt-3"
}, "Amount to unstake", -1)
  , Bt = {
    class: "flex justify-end w-full"
}
  , Tt = e("div", {
    style: {
        color: "black"
    }
}, "Processing wallet...", -1)
  , Mt = {
    __name: "stake_eth_mainnet",
    setup(St) {
        le({
            messages: he
        });
        const a = ie()
          , y = ce("$swal");
        let v = c(!1);
        function C() {
            v.value = !0
        }
        function B() {
            v.value = !1
        }
        let u = c(!1)
          , _ = c(!1)
          , o = c("");
        async function E() {
            var t = await d.get_account_address();
            return t.err === !1 ? (o.value = t.result,
            !0) : (a.error("get wallet account err:", t.err.message),
            !1)
        }
        let N = c("");
        async function G() {
            if (o.value !== "") {
                var t = await d.msn_balanceOf(s.chain_id, s.msn_contract_address, L, o.value);
                t.err === !1 ? N.value = t.result.toString() : t.err.message == "chain_id error" ? a.error("please switch to correct chain:" + s.chain_name) : a.error("get balance err:", t.err.message)
            }
        }
        let f = c(null);
        async function J() {
            await G(),
            u.value = !0
        }
        async function Q() {
            var z, H;
            if (f.value == NaN || parseFloat(f.value) <= 0) {
                a.error("stake amount err");
                return
            }
            let t = new I(f.value);
            t = t.times(1e18);
            var r = t.toFixed(0);
            let i = await d.msn_allowance(s.chain_id, s.msn_contract_address, L, o.value, s.stake_contract_address);
            if (i.err === !1) {
                if (new I(i.result.toString()).isLessThan(t)) {
                    if (!(await y.fire({
                        title: "",
                        html: "Allowance is not enough. Please allow the third party to spend MSN from your current balance.<br/>It is recommended that set a large value to avoid repeated requests",
                        showDenyButton: !1,
                        showCancelButton: !0,
                        showConfirmButton: !0,
                        confirmButtonText: "OK",
                        denyButtonText: ""
                    })).isConfirmed || !await E())
                        return;
                    C();
                    let $ = await d.msn_approve(s.chain_id, s.msn_contract_address, L, s.stake_contract_address, N.value);
                    if (B(),
                    $.result === !0)
                        a.success("approved");
                    else {
                        a.error("approve err:" + ((z = $.err) == null ? void 0 : z.message));
                        return
                    }
                }
            } else {
                a.error("check allowance err:" + ((H = result.err) == null ? void 0 : H.message));
                return
            }
            C();
            var n = await d.stake_stake(s.chain_id, s.stake_contract_address, w, r);
            B(),
            n.err === !1 ? (b(),
            u.value = !1,
            f.value = null) : n.err.message == "chain_id error" ? a.error("please switch to correct chain:" + s.chain_name) : a.error("stake_stake err handler:", n.err.message)
        }
        let h = c(null);
        async function Z() {
            _.value = !0
        }
        async function ee() {
            if (h.value == NaN || parseFloat(h.value) <= 0) {
                a.error("unstake amount err");
                return
            }
            let t = new I(h.value);
            t = t.times(1e18);
            var r = t.toFixed(0);
            C();
            var i = await d.stake_unstake(s.chain_id, s.stake_contract_address, w, r);
            B(),
            i.err === !1 ? (a.success("success"),
            b(),
            _.value = !1,
            h.value = null) : i.err.message == "chain_id error" ? a.error("please switch to correct chain:" + s.chain_name) : a.error("unstake err:", i.err.message)
        }
        let T = c("");
        async function te() {
            if (o.value !== "") {
                var t = await d.get_credit_reward_speed(s.chain_id, o.value, s.stake_contract_address, w);
                t.err === !1 ? T.value = t.result.toString() : t.err.message == "chain_id error" ? a.error("please switch to correct chain:" + s.chain_name) : a.error("get credit reward  speed err handler:", t.err.message)
            }
        }
        let M = c("");
        const O = async()=>{
          return;
        }
        ;
        let K = parseInt(Date.now() / 1e3);
        const se = async()=>{
            if (o.value !== "") {
                var t = await d.stake_get_stake_last_time(s.chain_id, o.value, s.stake_contract_address, w);
                t.err === !1 ? K = parseInt(t.result.toString()) : t.err.message == "chain_id error" ? a.error("please switch to correct chain:" + s.chain_name) : a.error("stake_get_stake_last_time err handler:", t.err.message)
            }
        }
        ;
        let R = c("");
        const j = async()=>{
          return;
        }
        ;
        let F = c("0");
        async function ae() {
            if (T.value === "" || T.value === "0") {
                F.value = "0";
                return
            }
            let r = parseInt(Date.now() / 1e3) - K
              , i = new I(T.value);
            i = i.times(r),
            F.value = i.toFixed(0)
        }
        const re = async()=>{
        }
        ;
        async function b() {
        }
        let S = null;
        async function P() {
            await oe() && (b(),
            S !== null && (clearInterval(S),
            S = null),
            S = setInterval(()=>{
                ae()
            }
            , 1e3),
            k.onAccountChanged(async t=>{
                if (t.length == 0) {
                    o.value = "";
                    return
                }
                await E(),
                b()
            }
            ))
        }
        async function ne() {
            return await k.getChainId() == s.chain_id
        }
        async function oe() {
            return null;
        }
        return de(async()=>{
            P()
        }
        ),
        ue(()=>{}
        ),
        (t,r)=>{
            const i = _e("router-link");
            return W(),
            V("div", ye, [e("header", Ce, [e("div", Be, [e("div", Te, [e("div", Se, [A(i, {
                class: "block",
                to: "/",
                "aria-label": "Cruip"
            }, {
                default: m(()=>[Ae]),
                _: 1
            })])])])]), e("main", De, [e("section", Ie, [Ee, e("div", Ne, [e("div", Me, [Fe, e("div", We, [e("div", Ve, [e("div", Ue, [Le, Oe, e("div", null, [l(o) == "" ? (W(),
            V("div", {
                key: 0,
                class: "wallet_btn btn-sm text-black bg-gradient-to-t from-yellow-600 to-yellow-500 hover:to-yellow-400 w-full shadow-lg group connectButton"
            }, " Connect Wallet ")) : X("", !0), l(o) != "" ? (W(),
            V("div", Ke, D(l(o)), 1)) : X("", !0)]), Re, e("div", je, [e("div", Pe, [ze, e("span", He, "100K", 1)]), e("div", {
                class: "font-uncut-sans flex items-center mb-4",
            }, Xe)]), qe, e("a", {
                class: "wallet_btn btn-sm text-black bg-gradient-to-t from-yellow-600 to-yellow-500 hover:to-yellow-400 w-full shadow-lg group connectButton",
            }, [g(" Stake "), Ye]), Ge, e("a", {
                class: "btn-sm text-white bg-gradient-to-t from-neutral-900 to-neutral-900 hover:to-neutral-800 w-full shadow-lg group connectButton",
            }, [g(" Unstake "), Je])])]), e("div", Qe, [Ze, e("div", et, [tt, st, at, e("div", rt, [nt, e("span", ot, "29K", 1)]), lt, it, e("div", ct, [e("div", dt, [ut, e("span", _t, "67K", 1)]), e("div", {
                class: "font-uncut-sans flex items-center mb-4",
                onClick: r[3] || (r[3] = n=>j())
            }, ft)]), e("a", {
                class: "wallet_btn btn-sm text-black bg-gradient-to-t from-yellow-600 to-yellow-500 hover:to-yellow-400 w-full shadow-lg group connectButton",
            }, [g(" Harvest "), ht])])])])])])])]), A(U, {
                open: l(u),
                "onUpdate:open": r[7] || (r[7] = n=>p(u) ? u.value = n : u = n),
                "margin-close": "true"
            }, {
                header: m(()=>[g("Stake Token")]),
                body: m(()=>[e("div", pt, [wt, e("input", {
                    type: "text",
                    value: l(x).parserToMoneyFormat(l(N), 18, 8, 8),
                    disabled: "",
                    class: "mt-1 disabled rounded"
                }, null, 8, vt), gt, q(e("input", {
                    type: "number",
                    "onUpdate:modelValue": r[5] || (r[5] = n=>p(f) ? f.value = n : f = n),
                    placeholder: "Amount to stake",
                    class: "rounded mt-1",
                    style: {
                        color: "black"
                    }
                }, null, 512), [[Y, l(f)]])])]),
                footer: m(()=>[e("div", bt, [e("button", {
                    type: "button",
                    class: "btn-secondary mr-3",
                    onClick: r[6] || (r[6] = n=>p(u) ? u.value = !1 : u = !1)
                }, "Cancel"), e("button", {
                    class: "btn-primary",
                    onClick: Q
                }, "Confirm")])]),
                _: 1
            }, 8, ["open"]), A(U, {
                open: l(_),
                "onUpdate:open": r[10] || (r[10] = n=>p(_) ? _.value = n : _ = n),
                "margin-close": "true"
            }, {
                header: m(()=>[g("Unstake Token")]),
                body: m(()=>[e("div", kt, [xt, e("input", {
                    type: "text",
                    value: l(x).parserToMoneyFormat(l(M), 18, 8, 8),
                    disabled: "",
                    class: "mt-1 disabled rounded"
                }, null, 8, yt), Ct, q(e("input", {
                    type: "text",
                    "onUpdate:modelValue": r[8] || (r[8] = n=>p(h) ? h.value = n : h = n),
                    placeholder: "Amount to unstake",
                    class: "rounded mt-1",
                    style: {
                        color: "black"
                    }
                }, null, 512), [[Y, l(h)]])])]),
                footer: m(()=>[e("div", Bt, [e("button", {
                    type: "button",
                    class: "btn-secondary mr-3",
                    onClick: r[9] || (r[9] = n=>p(_) ? _.value = !1 : _ = !1)
                }, "Cancel"), e("button", {
                    class: "btn-primary",
                    onClick: ee
                }, "Confirm")])]),
                _: 1
            }, 8, ["open"]), A(U, {
                open: l(v),
                "onUpdate:open": r[11] || (r[11] = n=>p(v) ? v.value = n : v = n),
                "margin-close": "true"
            }, {
                header: m(()=>[g("Waiting")]),
                body: m(()=>[Tt]),
                _: 1
            }, 8, ["open"])])
        }
    }
};
export {Mt as default};
